{% extends "layout.html" %}

{% block title %}
  show: {{ details['title'] }}
{% endblock %}

{% block headscript %}
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

{% endblock %}

{% block body %}
  <div class="text-box">
    <h1>
      {{ details["title"] }}
    </h1>
    <img src= {{ details['image'] }} class="center" alt="Image for " +
    {{ details['title'] }}">
    <br>
  </div>
  <form method='post' action="/result">
    <div class="text-box">
      <div class="outerInputContainer">
        <div class="innerInputContainer">
          <div id="seasonSelector">
            Seasons: <br>
            {% for season in range(1, details["seasons"] + 1) %}
              <label for="checkbox" class="season">
                <input type="checkbox" name="seasons" value={{ season }} checked> {{ season }}
              </label>
            {% endfor %}
          </div>
          <div id="ratingFactor">
            <input type="checkbox" id="rating-check"> Rating factor?
            <div id="ratingSlide">
              Rating Factor: <br>
              <input type="range" id="slider" name="slider" min=1 max=3 step=.1 value=0>
            </div>
          </div>
        </div>
      </div>
      <input id="paramSubmit" type="submit" value="Pick Episode!">
      <br>
    </div>
  </form>
{% endblock %}

{% block bodyscript %}
  <script>
    $(document).ready(function() {
      $("#ratingSlide").hide();
      $("#rating-check").change(function() {
        if (this.checked) {
          $("#ratingSlide").show();
          $("#slider").attr("value", "1");
        }
        else {
          $("#ratingSlide").hide();
          $("#slider").attr("value", "0");
        }
      });
    });
  </script>
{% endblock %}
